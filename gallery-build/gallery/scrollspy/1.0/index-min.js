KISSY.add("gallery/pagination/1.0/index",function(c,d){return d},{requires:["./scrollspy"]});
KISSY.add("gallery/scrollspy/1.0/scrollspy",function(c){function d(a){this.init(a);this.refresh()}var f=c.all,g=c.one;c.augment(d,{constructor:d,refresh:function(){this.targets=[];this.offsets=[];f(this.navSelector).each(function(a){var a=a.attr("data-href"),b=g(a);/^#\w/.test(a)&&b.length&&(this.targets.push(a),this.offsets.push(b.offset().top))},this)},process:function(){var a=this.$scrollElement.scrollTop()+this.offset,b=this.offsets,c=this.targets,d=this.activeTarget,e,a=a+b[0];for(e=b.length;e--;)d!=
c[e]&&a>=b[e]&&(!b[e+1]||a<=b[e+1])&&this.activate(c[e])},activate:function(a){var b;this.activeTarget=a;(b=f(".active",this.navContainer))&&b.removeClass("active");f(this.activerSelector+":has([data-href="+a+"])").addClass("active")},init:function(a){this.offset=a.offset;this.navSelector=a.navSelector;this.navContainer=a.navContainer;this.activerSelector=a.activerSelector;var b=c.bind(this.process,this);this.$scrollElement=f(a.scrollArea).on("scroll",b)}});return d},{requires:["sizzle"]});
